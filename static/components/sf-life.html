<link rel="import" href="../bower_components/polymer/polymer.html">

<polymer-element name="sf-life" attributes="">
    <template>
        <link rel="import" href="../bower_components/paper-toggle-button/paper-toggle-button.html">
        <link rel="import" href="../bower_components/core-drawer-panel/core-drawer-panel.html">
        <link rel="import" href="../bower_components/core-ajax/core-ajax.html">
        <link rel="stylesheet" href="../bower_components/bootstrap/dist/css/bootstrap.min.css">
        <script src="../bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
        <style>
        .left-panel {
            background-color: #45DFBE;
            height: 100%;
            padding: 50px;
        }
        .right-panel {
            background-color: #FFFFFF;
            height: 100%;
        }
        .option-tab {
        }
    </style>


    <div class="top-section">
    <div class="row">
      <div class="col-md-4 left-panel">
        <div center horizontal layout>
            <div flex><h2>EDGE</h2></div>
        </div>
        </br>
        <div center horizontal layout class="option-tab">
            <div flex> Community Gardens </div>
            <paper-toggle-button role="button" aria-pressed="{{gardens_selected}}"></paper-toggle-button>
        </div> 
            </br>
        <div center horizontal layout class="option-tab">
            <div flex> Farmers Markets </div>
            <paper-toggle-button role="button" aria-pressed="{{markets_selected}}"></paper-toggle-button>
        </div> 
            </br>
        <div center horizontal layout class="option-tab">
            <div flex> Health Facility Proximity </div>
            <paper-toggle-button role="button" aria-pressed="{{health_selected}}"></paper-toggle-button>
        </div> 
            </br>
        <div center horizontal layout class="option-tab">
            <div flex> Rent Burden </div>
            <paper-toggle-button role="button" aria-pressed="{{rentburden_selected}}"></paper-toggle-button>
        </div> 
            </br>
        <div center horizontal layout class="option-tab">
            <div flex> Transit Frequency </div>
            <paper-toggle-button role="button" aria-pressed="{{transit_selected}}"></paper-toggle-button>
        </div>
      </div>

      <div class="col-md-8 right-panel">
          
      </div>

    </div>
    </div>
    </template>

    <script>
        Polymer('sf-life', {
            unprocessed: null,
            data: {},
            gardens_selected: false,
            markets_gardens_selected: false,
            health_selected : false,
            rentburden_selected: false,
            transit_selected: false,

            ready: function() {
                console.log(this.response);
            },
            attached: function() {
                var r = new XMLHttpRequest();
                r.open("POST", "static/data/SF.json", true);
                r.onreadystatechange = function () {
                    console.log(r.responseText)
                };
            },
            responseChanged: function() {
                console.log("response changed");
                self.loadData(this.response)
            },
            loadData: function(rawdata) {
                for (i in rawdata.data.length()){
                    console.log(rawdata.data[i]);
                }
            },
            gardens_selectedChanged: function(oldValue, newValue) {
                calculateScore();
            },
            markets_selectedChanged: function(oldValue, newValue) {
                calculateScore();
            },
            health_selectedChanged: function(oldValue, newValue) {
                calculateScore();
            },
            rentburden_selectedChanged: function(oldValue, newValue) {
                calculateScore();
            },
            transit_selectedChanged: function(oldValue, newValue) {
                calculateScore();
            },
            calculateScore: function() {
                total = 0;
                score = 0;
            }

        });
    </script>
    
</polymer-element>